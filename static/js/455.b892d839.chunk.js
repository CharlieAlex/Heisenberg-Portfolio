"use strict";(self.webpackChunkreact_portfolio_template=self.webpackChunkreact_portfolio_template||[]).push([[455],{7274:(e,t,a)=>{function i(e,t){var a,i,l;e.accDescr&&(null===(a=t.setAccDescription)||void 0===a||a.call(t,e.accDescr));e.accTitle&&(null===(i=t.setAccTitle)||void 0===i||i.call(t,e.accTitle));e.title&&(null===(l=t.setDiagramTitle)||void 0===l||l.call(t,e.title))}a.d(t,{S:()=>i}),(0,a(2748).K2)(i,"populateCommonDb")},6455:(e,t,a)=>{a.d(t,{diagram:()=>k});var i=a(5099),l=a(7274),n=a(8887),c=a(9263),o=a(2748),r=a(5502),s=a(6287),p=c.UI.pie,d={sections:new Map,showData:!1,config:p},u=d.sections,g=d.showData,h=structuredClone(p),f=(0,o.K2)((()=>structuredClone(h)),"getConfig"),m=(0,o.K2)((()=>{u=new Map,g=d.showData,(0,c.IU)()}),"clear"),v=(0,o.K2)((e=>{let{label:t,value:a}=e;if(a<0)throw new Error('"'.concat(t,'" has invalid value: ').concat(a,". Negative values are not allowed in pie charts. All slice values must be >= 0."));u.has(t)||(u.set(t,a),o.Rm.debug("added new section: ".concat(t,", with value: ").concat(a)))}),"addSection"),w=(0,o.K2)((()=>u),"getSections"),S=(0,o.K2)((e=>{g=e}),"setShowData"),x=(0,o.K2)((()=>g),"getShowData"),D={getConfig:f,clear:m,setDiagramTitle:c.ke,getDiagramTitle:c.ab,setAccTitle:c.SV,getAccTitle:c.iN,setAccDescription:c.EI,getAccDescription:c.m7,addSection:v,getSections:w,setShowData:S,getShowData:x},T=(0,o.K2)(((e,t)=>{(0,l.S)(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)}),"populateDb"),b={parse:(0,o.K2)((async e=>{const t=await(0,r.qg)("pie",e);o.Rm.debug(t),T(t,D)}),"parse")},y=(0,o.K2)((e=>"\n  .pieCircle{\n    stroke: ".concat(e.pieStrokeColor,";\n    stroke-width : ").concat(e.pieStrokeWidth,";\n    opacity : ").concat(e.pieOpacity,";\n  }\n  .pieOuterCircle{\n    stroke: ").concat(e.pieOuterStrokeColor,";\n    stroke-width: ").concat(e.pieOuterStrokeWidth,";\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(e.pieTitleTextSize,";\n    fill: ").concat(e.pieTitleTextColor,";\n    font-family: ").concat(e.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(e.fontFamily,";\n    fill: ").concat(e.pieSectionTextColor,";\n    font-size:").concat(e.pieSectionTextSize,";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(e.pieLegendTextColor,";\n    font-family: ").concat(e.fontFamily,";\n    font-size: ").concat(e.pieLegendTextSize,";\n  }\n")),"getStyles"),C=(0,o.K2)((e=>{const t=[...e.values()].reduce(((e,t)=>e+t),0),a=[...e.entries()].map((e=>{let[t,a]=e;return{label:t,value:a}})).filter((e=>e.value/t*100>=1)).sort(((e,t)=>t.value-e.value));return(0,s.rLf)().value((e=>e.value))(a)}),"createPieArcs"),k={parser:b,db:D,renderer:{draw:(0,o.K2)(((e,t,a,l)=>{var r;o.Rm.debug("rendering pie chart\n"+e);const p=l.db,d=(0,c.D7)(),u=(0,n.$t)(p.getConfig(),d.pie),g=18,h=450,f=h,m=(0,i.D)(t),v=m.append("g");v.attr("transform","translate(225,225)");const{themeVariables:w}=d;let[S]=(0,n.I5)(w.pieOuterStrokeWidth);null!==(r=S)&&void 0!==r||(S=2);const x=u.textPosition,D=Math.min(f,h)/2-40,T=(0,s.JLW)().innerRadius(0).outerRadius(D),b=(0,s.JLW)().innerRadius(D*x).outerRadius(D*x);v.append("circle").attr("cx",0).attr("cy",0).attr("r",D+S/2).attr("class","pieOuterCircle");const y=p.getSections(),k=C(y),A=[w.pie1,w.pie2,w.pie3,w.pie4,w.pie5,w.pie6,w.pie7,w.pie8,w.pie9,w.pie10,w.pie11,w.pie12];let K=0;y.forEach((e=>{K+=e}));const R=k.filter((e=>"0"!==(e.data.value/K*100).toFixed(0))),z=(0,s.UMr)(A);v.selectAll("mySlices").data(R).enter().append("path").attr("d",T).attr("fill",(e=>z(e.data.label))).attr("class","pieCircle"),v.selectAll("mySlices").data(R).enter().append("text").text((e=>(e.data.value/K*100).toFixed(0)+"%")).attr("transform",(e=>"translate("+b.centroid(e)+")")).style("text-anchor","middle").attr("class","slice"),v.append("text").text(p.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const M=[...y.entries()].map((e=>{let[t,a]=e;return{label:t,value:a}})),O=v.selectAll(".legend").data(M).enter().append("g").attr("class","legend").attr("transform",((e,t)=>"translate(216,"+(22*t-22*M.length/2)+")"));O.append("rect").attr("width",g).attr("height",g).style("fill",(e=>z(e.label))).style("stroke",(e=>z(e.label))),O.append("text").attr("x",22).attr("y",14).text((e=>p.getShowData()?"".concat(e.label," [").concat(e.value,"]"):e.label));const W=512+Math.max(...O.selectAll("text").nodes().map((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0})));m.attr("viewBox","0 0 ".concat(W," ").concat(h)),(0,c.a$)(m,h,W,u.useMaxWidth)}),"draw")},styles:y}}}]);
//# sourceMappingURL=455.b892d839.chunk.js.map